# システム構成によるシステムの分類
* シンプレックスシステム‥１つのコンピュータだけのシステム構成。この構成ではシステムの１箇所でも障害が発生するとシステムは停止する。
* デュプレックスシステム‥メインで動作するコンピュータと、故障に備えて待機しているコンピュータの２つのコンピュータからなるシステム構成。
* デュアルシステム‥２つのコンピュータが同じ処理を行い、結果を照合して正しいことを確認するシステム構成。処理能力はシンプレックスシステムとほぼ同じ。

## ホットスタンバイとコールドスタンバイ
* 現用系‥通常動いているコンピュータのこと
* 待機系‥待機している予備用のコンピュータのこと
  
### 待機系には２種類ある
* ホットスタンバイ（常に電源が入っていて暑い状態だからこの名前）‥メインで動作している現用系だけでなく、待機系にも常に電源を入れておき、現用系と同じデータとプログラムをコピーして保持しておく動作状態
  
#### メリット
待機系も起動させておけば、玄洋系に障害が発生した場合に、迅速に処理を引き継ぐことが可能である
* コールドスタンバイ（電源が入っておらず、冷たい状態であるからこの名前）‥ホットスタンバイとは真逆の状態で、電源を入れずに停止した状態で待機させておく構成。
  
#### メリット
待機系を停止させておくことで運用コストが安く済む
## システムの信頼性と、止めない工夫
コンピュータを複数台用意して障害に強いシステムを構成する必要がある。ユーザーが求めるものはシステムが提供するサービスなので、万が一システム障害が発生しても可能な限りシステムが止まらないように設計する必要がありそのような考えで設計することを*フォールトトレラント*という。
* フォールトトレラントとは‥システムが部分的に故障してもシステム全体としては必要な機能を維持する設計のこと。このような設計で作られたシステムを*フォーラントトレラントシステム*という。
```
フォールト（Fault）とは‥障害
トレラントとは‥耐性がある
```
コンピュータは電子機器なので、大切なのは「故障しないコンピュータ」を用意することではなく、「あるコンピュータが故障しても、システムとしては稼働を続けられるようにすること」が大事である！

## 信頼性に関するその他の用語
* フェールソフト‥システムの一部に障害が起きた場合に、たとえ性能が落ちたとしても、システム全体は動作させる設計。例えば飛行機はエンジンが１つ故障しても飛行を継続できる仕組みになっている。
* フェールセーフ‥システムに障害が起きた場合に、システムを止めてでも安全を優先させる設計。例えば工場のロボットアームが動く範囲に人間が侵入した場合はロボットアームを強制的に停止させる
* フールプルーフ‥人間が間違った使い方をしても、システムに異常が起こらないようにする設計。例えばドアを閉めないと加熱できない電子レンジなど。

## RAID（レイド）とは
障害に強いステムを構成する方法には、上記のようにコンピュータの構成を変更する方法以外に*ハードディスクの構成を変更する*方法もある。この技術のことを「RAID」という
* RAID（Redundant Array of Inexpensibe Disks）とは‥複数のハードディスクをあたかも１つのハードディスクであるかのように扱う技術の総称。データを複数台のハードディスク上に保存する技術。

RAIDにはRAID０〜RAID6までの７つのレベルがあり、そのレベルが表すものは性能の高さではなく、記憶方式の違いを表す。現在よく使われるのはRAID０、１、５です。

| レベル | 説明 |
| :---: | :----: |
| RAID0 | データを複数のハードディスクに分散させて書き込む記憶方式。*別名「ストライピング」* |
| RAID１ | 複数のハードディスクに同じデータを書き込む記憶方式。*別名「ミラーリング」* |
| RAID２ | データに「ハミングコード」という誤り訂正符号を加えて、複数のディスクに分散してデータを書き込む記憶方式。 |
| RAID３ | 誤り訂正符号は専用のディスクに書き込み、データはその他のディスクに分散して書き込む記憶方式。 |
| RAID４ | RAID3と同様の記憶方式だが、データの分割をブロック（セクタ）単位で行う記憶方式。 |
| RAID５ | データに「パリティ」という誤り訂正符号を加えて、複数のディスクに分散してデータを書き込む記憶方式 |
| RAID６ | RAID５と同様の記憶方式だが、バリティを２重で生成する記憶方式。 |

### ストライピングのメリットとデメリットとは
* メリット‥データを複数のハードディスクに保存してあり、ハードディスクに並列でアクセスできるようになるので、*データの読み書きを高速化*できる
* デメリット‥ストライピングではデータが多重化されていないためディスクが１つでも壊れると全体が動作しなくなり、ディスクが増えた分だけ故障のリスクが増えたのでシステムの信頼性は下がる
### ミラーリングのメリットとデメリット
* メリット‥同じデータを複数のハードディスクに書き込むためデータが多重化され、万が一ディスクが１つ故障しても別のディスクを使って処理することができるためシステムの信頼性が上がる
* デメリット‥同じディスク容量だった場合、ストライピングと比べ保存できる*データの量が半分になり、費用の増加につながる*。また、データを同時に複数のディスクに記録するため、*処理速度も遅くなる*

# システムの性能指標
システムの性能を評価する主な指標に以下の三種類がある
| 指標 | 説明 |
| :---: | :---: |
| スループット | 単位時間あたりに処理される仕事の量（何件できるか？） |
| ターンアラウンドタイム | 入力から出力が完了するまでの全行程にかかる合計時間（何秒かかるか） |
| レスポンスタイム（応答時間） | 処理にかかる時間（入力や出力の時間は含まない） |
* スループットとは‥システムが単位時間あたりに処理する仕事の量のこと。プリンターを例にすると、「印刷ページ数」を「コンピュータに印刷の命令を出してから、プリンターで印刷物の最後のページが出力されるまでの時間」で割った値。
* ターンアラウンドタイムとは‥「入力＋処理＋出力」の時間。
* レスポンスタイムとは‥「処理だけ」の時間。

## ベンチマークテスト
* ベンチマークテストとは‥システムの性能を比較するために行うテストのこと。標準的なプログラムやデータを使ってシステムの性能をテストし、上記の*スループット・ターンアラウンドタイム・レスポンスタイム*などの数値を他のシステムと比較して評価する。

## キャパシティプランニング
* キャパシティプランニングとは‥システムの稼働状況を継続的に評価して、システムに求められる処理能力を計画すること。
* 目的‥企業側は現在から将来にわたってユーザーのニーズに応えられるようなシステムの性能を維持しなければならないため。
* 手段‥キャパシティプランニングによって、システムの処理能力を向上する必要があるとわかった場合は*「スケールアウト」「スケールアップ」*の２つの手段を実行する
### スケールアウト
* スケールアウトとは‥サーバーの台数を増やすことでシステム全体の処理能力を向上させること
### スケールアップ
* スケールアップとは‥個々のサーバの処理能力を向上させることでシステム全体の処理能力を向上させること

# システムの信頼性指標
システムは並び方によって信頼性が変わる
## RASIS
* RASIS(レイシス)とは‥システムを評価するための５つの指標の頭文字を合わせた造語

| 指標 | 意味 | 説明 |
| :---: | :---: | :---: |
| Reliability | 信頼性 | 障害の起こりにくさなど |
| Availability | 可用性 | 必要な時にいつでもサービスが利用できるか否か |
| Serviceability | 保守性 | 復旧のしやすさ |
| Integrity | 完全性 | データが壊されたり、改竄されたりしていないこと |
| Security | 安全性 | 許可された人だけがアクセスできること |

* RASISのうち、特に重要な最初の３つの指標のことを「RAS」という

## MTBF(エムティービーエフ)
* MTBF（Mean Time Between Failures：平均故障間隔）とは‥故障と故障の間、つまり、システムが故障せずに正しく動いていた時間の平均値。MTBFはRASISの「Realiability（信頼性）」を表す指標の一つ。
```
　　　　　　　　　　　　　　　　　稼働時間の合計
MTBF 🟰 ーーーーーーーーー
　　　　　　　　　　　　　　　　　　　　故障回数
```
* MTBFが大きいシステム→信頼性が高い
* MTBFが小さいシステム→信頼性が低い
### MTBFを大きくする（信頼性を高める）には
定期的にシステムをメンテナンスすることが必要。古くなったハードウェアを交換することで、故障を未然に防ぐことができる。MTBFを高めるメンテナンスのことを「予防保守」という

## MTTR(エムティティーアール)
* MTTR(Mean Time To Repair:平均修理時間)とは‥修理にかかった時間、つまり、システムが稼働していなかった時間の平均値。MTTRはRASISの「Serviceability（保守性）」を表す指標の一つ。
```
　　　　　　　　　　　　　　　　　故障時間の合計
MTTR 🟰 ーーーーーーーー
　　　　　　　　　　　　　　　　　　　　故障回数
```
* MTTRが大きいシステム→保守性が高い
* MTTRが小さいシステム→保守性が低い

## 稼働率
* 稼働率とは‥システムが故障せずに動いていた時間の割合。稼働率はRASISの「Availability（可用性）」を表す指標の１つ。
```
　　　　　　　　　　　　　　　　　　　　  MTBF
稼働率　🟰 ーーーーーーーー
         (MTBF+MTTR) 
```
* 稼働率が高いシステム→可用性が高い
* 稼働率が低いシステム→可用性が低い

*稼働率が「１」のシステムは一度も故障せずにずっと仕事をしているシステム*

# システムを構成する装置の配置方法
「直列システム」「並列システム」「多重化システム」の三種類に分類することができる。配置方法により、稼働率が変わる。
## 直列システム
* 直列システムとは‥複数の装置が直列に接続れたシステムのこと。
```
直列システムの稼働率🟰装置Aの稼働率✖️装置Bの稼働率
```
## 並列システム
* 並列システムとは‥複数の装置が並列に接続されたシステムのこと。
```
並列システム🟰１ー（１ー装置Aの稼働率）✖️（１ー装置Bの稼働率）
```
## 多重化システム
* 多重化システムとは‥複数の装置、もしくは複数のシステムを部品として組み合わせて作成する、より大きな１つのシステム
